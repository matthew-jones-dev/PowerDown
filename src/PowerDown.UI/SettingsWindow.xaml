<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="PowerDown.UI.SettingsWindow"
        Title="Settings"
        Height="520" Width="380"
        MinHeight="400" MinWidth="320"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource AppBackground}">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <TextBlock FontSize="20" FontWeight="SemiBold" Text="Settings" FontFamily="{StaticResource DisplayFont}"/>
            <TextBlock FontSize="12" Foreground="{StaticResource TextMuted}"
                       Text="Adjust monitoring and shutdown options"/>
        </StackPanel>

        <ScrollViewer Grid.Row="1" Background="{StaticResource CardBackground}"
                      BorderBrush="{StaticResource CardBorder}"
                      BorderThickness="{StaticResource CardBorderThickness}"
                      CornerRadius="{StaticResource CardRadius}" Padding="15">
            <StackPanel>
                <!-- Monitor Toggles -->
                <TextBlock Text="Monitor Launchers" FontWeight="Medium" Margin="0,0,0,10"/>
                <CheckBox IsChecked="{Binding MonitorSteam}" Content="Steam" Margin="0,0,0,15"/>

                <!-- Verification Settings -->
                <TextBlock Text="Verification" FontWeight="Medium" Margin="0,0,0,10"/>
                <TextBlock Text="Verification Delay (seconds)" FontSize="12" Foreground="{StaticResource TextMuted}"/>
                <NumericUpDown Value="{Binding VerificationDelaySeconds}" Minimum="10" Maximum="300"
                               Margin="0,0,0,10"/>

                <TextBlock Text="Polling Interval (seconds)" FontSize="12" Foreground="{StaticResource TextMuted}"/>
                <NumericUpDown Value="{Binding PollingIntervalSeconds}" Minimum="5" Maximum="60"
                               Margin="0,0,0,10"/>

                <TextBlock Text="Required Checks" FontSize="12" Foreground="{StaticResource TextMuted}"/>
                <NumericUpDown Value="{Binding RequiredNoActivityChecks}" Minimum="1" Maximum="10"
                               Margin="0,0,0,15"/>

                <!-- Shutdown Settings -->
                <TextBlock Text="Shutdown" FontWeight="Medium" Margin="0,0,0,10"/>
                <TextBlock Text="Shutdown Delay (seconds)" FontSize="12" Foreground="{StaticResource TextMuted}"/>
                <NumericUpDown Value="{Binding ShutdownDelaySeconds}" Minimum="10" Maximum="300"
                               Margin="0,0,0,10"/>

                <!-- Dry Run -->
                <CheckBox IsChecked="{Binding DryRun}" Content="Dry Run Mode (test without shutdown)"
                          Margin="0,0,0,10"/>

                <!-- Custom Paths -->
                <TextBlock Text="Custom Paths (optional)" FontWeight="Medium" Margin="0,10,0,10"/>
                <TextBlock Text="Steam Path" FontSize="12" Foreground="{StaticResource TextMuted}"/>
                <TextBox Text="{Binding CustomSteamPath}" Margin="0,0,0,10"/>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right"
                    Margin="0,15,0,0">
            <Button Content="Save" Classes="primary" Margin="0,0,10,0"
                    Command="{Binding SaveSettingsCommand}"/>
            <Button Content="Close" Classes="ghost" Click="OnCloseClick"/>
        </StackPanel>
    </Grid>
</Window>
